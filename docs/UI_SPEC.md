# UI 規格文件

本文件定義薪資計算系統前端介面的設計規格。

---

## 1. 整體設計原則

### 1.1 設計風格
- **簡潔明瞭**：介面簡潔，避免過多裝飾
- **易於操作**：主要操作按鈕明顯，流程清楚
- **響應式設計**：支援桌面與手機瀏覽器
- **友善提示**：錯誤訊息清楚，操作提示明確

### 1.2 色彩配置
- **主色調**：藍色（#007bff）- 代表專業、信賴
- **輔助色**：綠色（#28a745）- 成功訊息
- **警告色**：黃色（#ffc107）- 警告訊息
- **錯誤色**：紅色（#dc3545）- 錯誤訊息
- **背景色**：淺灰（#f8f9fa）

### 1.3 字型
- **主要字型**：Microsoft JhengHei（微軟正黑體）
- **英數字型**：Segoe UI, Arial, sans-serif
- **字體大小**：基準 16px

---

## 2. 頁面結構

### 2.1 導覽列（所有頁面共用）

```
┌─────────────────────────────────────────┐
│ 🏢 薪資計算系統              [測試環境] │
└─────────────────────────────────────────┘
```

- 左側顯示系統名稱
- 右側顯示環境標示（測試/正式）
- 固定在頁面頂端

### 2.2 頁尾（所有頁面共用）

```
┌─────────────────────────────────────────┐
│ © 2024 薪資計算系統 | 版本 1.0.0        │
└─────────────────────────────────────────┘
```

---

## 3. 頁面設計

### 3.1 上傳頁面（index.html）

#### 頁面佈局

```
┌─────────────────────────────────────────┐
│           薪資計算系統                   │
│                                          │
│   ┌──────────────────────────────┐     │
│   │  📄 上傳班表 Excel 檔案       │     │
│   │  [選擇檔案] 尚未選擇檔案     │     │
│   └──────────────────────────────┘     │
│                                          │
│   ┌──────────────────────────────┐     │
│   │  📄 上傳打卡紀錄 Excel 檔案   │     │
│   │  [選擇檔案] 尚未選擇檔案     │     │
│   └──────────────────────────────┘     │
│                                          │
│         [開始計算薪資] ← 按鈕大且明顯   │
│                                          │
│   說明：                                │
│   • 請確保 Excel 檔案格式正確           │
│   • 檔案大小不超過 10MB                 │
│   • 詳細格式說明請參考文件              │
└─────────────────────────────────────────┘
```

#### 互動行為
1. 選擇檔案後顯示檔案名稱與大小
2. 兩個檔案都選擇後，「開始計算薪資」按鈕才可點擊
3. 點擊後顯示上傳進度（Progress Bar）
4. 上傳完成後自動導向處理狀態頁面

#### 錯誤處理
- 檔案格式錯誤：顯示紅色警告訊息
- 檔案過大：顯示警告並拒絕上傳
- 網路錯誤：顯示錯誤訊息，提供重試按鈕

---

### 3.2 處理狀態頁面（processing.html）

#### 頁面佈局

```
┌─────────────────────────────────────────┐
│           正在處理中...                  │
│                                          │
│   ┌──────────────────────────────┐     │
│   │  ⏳ 處理進度                  │     │
│   │  ████████░░░░░░░░░░ 50%      │     │
│   │                               │     │
│   │  目前狀態：正在計算薪資...    │     │
│   └──────────────────────────────┘     │
│                                          │
│   處理記錄：                            │
│   ✓ 檔案已上傳                          │
│   ✓ 檔案格式驗證通過                    │
│   ✓ 班表資料解析完成                    │
│   ⏳ 正在計算薪資...                    │
│                                          │
└─────────────────────────────────────────┘
```

#### 互動行為
1. 每 2 秒輪詢一次狀態（呼叫 `/status` API）
2. 更新進度條與狀態訊息
3. 完成後自動導向檢視與調整頁面
4. 若發生錯誤，顯示錯誤訊息與返回按鈕

---

### 3.3 檢視與調整頁面（review.html）

#### 頁面佈局

```
┌─────────────────────────────────────────┐
│ 薪資計算結果                [匯出報表]  │
├─────────────────────────────────────────┤
│ 摘要資訊                                │
│ 總人數: 50  總薪資: 1,500,000 元        │
│ 異常筆數: 5（缺卡 3 筆、遲到 2 筆）     │
├─────────────────────────────────────────┤
│ [搜尋員工...]              [篩選 ▼]    │
├─────────────────────────────────────────┤
│ 員工編號 │ 姓名 │ 工時 │ 薪資 │ 操作   │
├─────────────────────────────────────────┤
│ E001    │ 張三 │ 176  │35,200│ [詳細] │
│ E002 ⚠️ │ 李四 │ 186  │39,880│ [詳細] │
│ E003 ⚠️ │ 王五 │ 160  │31,700│ [詳細] │
│ ...                                     │
├─────────────────────────────────────────┤
│               [確認送出]                │
└─────────────────────────────────────────┘
```

#### 詳細資訊展開區（點擊「詳細」後展開）

```
┌─────────────────────────────────────────┐
│ E002 李四                     [編輯] [X]│
├─────────────────────────────────────────┤
│ 基本資訊                                │
│ • 員工編號: E002                        │
│ • 員工姓名: 李四                        │
│ • 部門: 業務部                          │
├─────────────────────────────────────────┤
│ 工時統計                                │
│ • 工作天數: [22] 天                     │
│ • 總工時: [186] 小時                    │
│ • 正常工時: [176] 小時                  │
│ • 加班工時: [10] 小時 ← 可編輯欄位     │
├─────────────────────────────────────────┤
│ 薪資明細                                │
│ • 時薪: 200 元                          │
│ • 正常工時薪資: 35,200 元               │
│ • 加班費: [2,680] 元 ← 可編輯          │
│ • 津貼: [2,000] 元 ← 可編輯             │
│ • 扣款: [0] 元 ← 可編輯                 │
│ • 總薪資: 39,880 元（自動計算）         │
├─────────────────────────────────────────┤
│ 異常記錄                                │
│ ⚠️ 2024/01/05 - 缺少下班打卡            │
│ ⚠️ 2024/01/12 - 遲到 15 分鐘            │
├─────────────────────────────────────────┤
│ 調整理由（必填）                        │
│ ┌─────────────────────────────────┐   │
│ │ 請輸入調整理由...                │   │
│ └─────────────────────────────────┘   │
│                                          │
│         [儲存] [取消]                   │
└─────────────────────────────────────────┘
```

#### 互動行為
1. **搜尋**：即時搜尋員工編號或姓名
2. **篩選**：可依異常狀態篩選（全部、有異常、無異常）
3. **排序**：可依員工編號、姓名、薪資排序
4. **編輯**：點擊「編輯」進入編輯模式
5. **儲存**：儲存調整，必須填寫理由
6. **確認送出**：顯示調整摘要對話框（二次確認）

---

### 3.4 確認對話框

```
┌─────────────────────────────────────────┐
│ 調整摘要                          [X]   │
├─────────────────────────────────────────┤
│ 本次共調整 2 位員工的薪資資料：         │
│                                          │
│ 1. E002 李四                            │
│    • 加班工時：10 小時 → 8 小時         │
│    • 理由：實際加班時數應為 8 小時      │
│                                          │
│ 2. E003 王五                            │
│    • 總薪資：30,000 元 → 32,000 元      │
│    • 理由：補發全勤獎金 2,000 元        │
│                                          │
│ 請確認以上調整內容是否正確？            │
│                                          │
│         [確定] [取消]                   │
└─────────────────────────────────────────┘
```

---

### 3.5 完成頁面（complete.html）

#### 頁面佈局

```
┌─────────────────────────────────────────┐
│                                          │
│            ✓ 完成！                     │
│                                          │
│   薪資計算已完成並儲存                  │
│                                          │
│   Job ID: job_20240101_123456           │
│   處理時間: 2024-01-01 12:00:00         │
│   處理人數: 50 人                       │
│   總薪資: 1,500,000 元                  │
│                                          │
│   [匯出報表] [返回修改] [處理新資料]   │
│                                          │
└─────────────────────────────────────────┘
```

---

## 4. 組件設計

### 4.1 按鈕

#### 主要按鈕（Primary）
- 背景色：藍色 #007bff
- 文字色：白色
- 圓角：4px
- 尺寸：大（padding: 12px 24px）

#### 次要按鈕（Secondary）
- 背景色：灰色 #6c757d
- 文字色：白色
- 圓角：4px
- 尺寸：中（padding: 8px 16px）

#### 危險按鈕（Danger）
- 背景色：紅色 #dc3545
- 文字色：白色
- 用於刪除、取消等操作

### 4.2 輸入框

- 邊框：1px solid #ced4da
- 圓角：4px
- 高度：40px
- 字體大小：16px
- Focus 狀態：邊框變為藍色

### 4.3 表格

- 表頭背景色：淺灰 #e9ecef
- 間隔行背景色：白色 / 淺灰
- 懸停效果：背景色變淺藍
- 異常標記：紅色驚嘆號 ⚠️

### 4.4 對話框

- 遮罩背景：半透明黑色 rgba(0,0,0,0.5)
- 對話框背景：白色
- 圓角：8px
- 陰影：0 4px 6px rgba(0,0,0,0.1)

---

## 5. 響應式設計

### 5.1 桌面版（> 768px）
- 導覽列：完整顯示
- 表格：顯示所有欄位
- 詳細資訊：橫向排列

### 5.2 手機版（≤ 768px）
- 導覽列：精簡顯示
- 表格：隱藏次要欄位，可左右滑動
- 詳細資訊：縱向排列
- 按鈕：全寬顯示

---

## 6. 動畫與效果

### 6.1 載入動畫
- 使用 Spinner 或進度條
- 顏色：藍色
- 位置：頁面中央

### 6.2 過場動畫
- 頁面切換：淡入淡出（0.3 秒）
- 元素展開：滑動展開（0.2 秒）

### 6.3 Hover 效果
- 按鈕：背景色變深
- 表格列：背景色變淺藍
- 連結：底線出現

---

## 7. 錯誤訊息設計

### 7.1 訊息類型

#### 成功訊息（Success）
```
┌─────────────────────────────────────┐
│ ✓ 儲存成功！                        │
└─────────────────────────────────────┘
```
- 背景色：綠色 #d4edda
- 文字色：深綠 #155724

#### 警告訊息（Warning）
```
┌─────────────────────────────────────┐
│ ⚠️ 請注意：檔案大小超過建議值        │
└─────────────────────────────────────┘
```
- 背景色：黃色 #fff3cd
- 文字色：深黃 #856404

#### 錯誤訊息（Error）
```
┌─────────────────────────────────────┐
│ ✕ 錯誤：檔案格式不正確              │
└─────────────────────────────────────┘
```
- 背景色：紅色 #f8d7da
- 文字色：深紅 #721c24

### 7.2 訊息位置
- 全域訊息：頁面頂端（固定）
- 欄位訊息：欄位下方
- 對話框訊息：對話框內

---

## 8. 無障礙設計

### 8.1 鍵盤操作
- Tab：切換焦點
- Enter：確認/提交
- Esc：關閉對話框

### 8.2 螢幕閱讀器
- 所有圖片都有 alt 文字
- 表單欄位都有 label
- 按鈕都有明確的文字說明

---

## 9. 瀏覽器支援

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- 手機瀏覽器：iOS Safari 14+, Chrome Mobile 90+

---

**更新日期**: 2024-01-01
